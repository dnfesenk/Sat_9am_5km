<h1><%= @athlete.name %></h1>

<h2>Все забеги</h2>
<% if @total_results.zero? %>
  <p>Пока не было результатов.</p>
<% else %>
  <table class="table">
    <thead>
      <tr>
        <th>#</th>
        <th>Дата</th>
        <th>Результат</th>
        <th class="hidden-on-phone">Место</th>
        <th>Мероприятие</th>
      </tr>
    </thead>
    <tbody>
      <%= render partial: 'result', collection: @athlete.results.published.includes(activity: :event).order('activity.date DESC'), cached: true %>
    </tbody>
  </table>
<% end %>

<h2>Волонтёрства</h2>
<% if @total_vol.zero? %>
  <p>Пока не было волонтёрств.</p>
<% else %>
  <table class="table">
    <thead>
      <tr>
        <th>#</th>
        <th>Дата</th>
        <th>Роль</th>
        <th>Мероприятие</th>
      </tr>
    </thead>
    <tbody>
      <% @athlete.volunteering.includes(:activity).each_with_index do |vol, idx| %>
        <tr>
          <td><%= @total_vol - idx %></td>
          <td><%= link_to vol.activity.date, activity_path(vol.activity_id) %></td>
          <td><%= human_volunteer_role vol.role %></td>
          <td><%= vol.activity.event.name %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>
